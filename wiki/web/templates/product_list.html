{% extends 'base.html' %}

{% block title %}Product List{% endblock %}

{% block content %}

    <head>

    <title>Products</title>
    </head>

    <!-- Search for products based on whether they contain the user input><-->
    <form method="POST">
        <input name="search_input" placeholder="Search for products...">
        <input type="submit">
    </form>

<hr>
    <button type="button" value="Sort by Price (Descending)" onclick="sort_by_price_descending()">Sort by Price (Descending)</button>
    <button type="button" value="Sort by Price (Ascending)" onclick="sort_by_price_ascending()">Sort by Price (Ascending)</button>
    <button type="button" value="Sort by Title (A to Z)" onclick="sort_by_title_ascending()">Sort by Title (A to Z)</button>
    <button type="button" value="Sort by TItle (Z to A)" onclick="sort_by_title_descending()">Sort by Title (Z to A)</button>
    <p>Press Refresh button to see updated list after pressing sort button.</p>
    <button type="reset" value="Reset" onclick="window.location.reload()">Refresh</button>

{% for list in list_of_product %}
    <table class = "table table-hover">
    <tr>
    <tr>
        <th>TITLE:</th>
        <td>
           {{ list.title }}
        </td>
    </tr>
        <tr>
        <th>DESCRIPTION:</th>
        <td>

            {{ list.description}}

        </td>
        </tr>
        <tr>
         <th>PRICE:</th>
        <td>
            {{ list.price }}
            </td>
        </tr>
        <tr>
        <th>

        </th>
        <td>

        </td>
        </tr>

    </tr>
    </table>
    {% endfor %}

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5/jquery.min.js"></script>
    <script>
        function sort_by_price_descending() {
            $.ajax({
                url:"/sort_price_descending",
                type:"POST",
                contentType: "application/json",
                data: {},
            })
        }

        function sort_by_price_ascending() {
            $.ajax({
                url:"/sort_price_ascending",
                type:"POST",
                contentType: "application/json",
                data: {},
            })
        }

        function sort_by_title_ascending() {
            $.ajax({
                url:"/sort_title_ascending",
                type:"POST",
                contentType: "application/json",
                data: {},
            })
        }

        function sort_by_title_descending() {
            $.ajax({
                url:"/sort_title_descending",
                type:"POST",
                contentType: "application/json",
                data: {},
            })
        }
    </script>

{% endblock %}